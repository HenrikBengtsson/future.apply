<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>future.apply: Apply Function to Elements in Parallel using Futures — future.apply • future.apply</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="future.apply: Apply Function to Elements in Parallel using Futures — future.apply" />
<meta property="og:description" content="The future.apply packages provides parallel implementations of
common &quot;apply&quot; functions provided by base R.  The parallel processing
is performed via the future ecosystem, which provides a large
number of parallel backends, e.g. on the local machine, a remote cluster,
and a high-performance compute cluster." />






<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->




  

  

  </head>

  <body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">future.apply</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.7.0-9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/future.apply-1-overview.html">A Future for R: Apply Function to Elements in Parallel</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/HenrikBengtsson/future.apply/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>future.apply: Apply Function to Elements in Parallel using Futures</h1>
    <small class="dont-index">Source: <a href='https://github.com/HenrikBengtsson/future.apply/blob/master/R/future.apply-package.R'><code>R/future.apply-package.R</code></a></small>
    <div class="hidden name"><code>future.apply.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>The <span class="pkg">future.apply</span> packages provides parallel implementations of
common "apply" functions provided by base <span style="R">R</span>.  The parallel processing
is performed via the <span class="pkg">future</span> ecosystem, which provides a large
number of parallel backends, e.g. on the local machine, a remote cluster,
and a high-performance compute cluster.</p>
    </div>



    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>Currently implemented functions are:</p><ul>
<li><p><code><a href='future_apply.html'>future_apply()</a></code>: a parallel version of <a href='https://rdrr.io/r/base/apply.html'>apply()</a></p></li>
<li><p><code><a href='future_by.html'>future_by()</a></code>: a parallel version of <a href='https://rdrr.io/r/base/by.html'>by()</a></p></li>
<li><p><code><a href='future_lapply.html'>future_eapply()</a></code>: a parallel version of <a href='https://rdrr.io/r/base/lapply.html'>eapply()</a></p></li>
<li><p><code><a href='future_lapply.html'>future_lapply()</a></code>: a parallel version of <a href='https://rdrr.io/r/base/lapply.html'>lapply()</a></p></li>
<li><p><code><a href='future_mapply.html'>future_mapply()</a></code>: a parallel version of <a href='https://rdrr.io/r/base/mapply.html'>mapply()</a></p></li>
<li><p><code><a href='future_lapply.html'>future_sapply()</a></code>: a parallel version of <a href='https://rdrr.io/r/base/lapply.html'>sapply()</a></p></li>
<li><p><code><a href='future_lapply.html'>future_tapply()</a></code>: a parallel version of <a href='https://rdrr.io/r/base/tapply.html'>tapply()</a></p></li>
<li><p><code><a href='future_lapply.html'>future_vapply()</a></code>: a parallel version of <a href='https://rdrr.io/r/base/lapply.html'>vapply()</a></p></li>
<li><p><code><a href='future_mapply.html'>future_Map()</a></code>: a parallel version of Map()</p></li>
<li><p><code><a href='future_lapply.html'>future_replicate()</a></code>: a parallel version of <a href='https://rdrr.io/r/base/lapply.html'>replicate()</a></p></li>
<li><p><code><a href='future_mapply.html'>future_.mapply()</a></code>: a parallel version of .mapply()</p></li>
</ul>

<p>Reproducibility is part of the core design, which means that perfect,
parallel random number generation (RNG) is supported regardless of the
amount of chunking, type of load balancing, and future backend being used.</p>
<p>Since these <code>future_*()</code> functions have the same arguments as the
corresponding base <span style="R">R</span> function, start using them is often as simple as
renaming the function in the code.  For example, after attaching the package:<div class="r"></p><pre><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://github.com/HenrikBengtsson/future.apply'>future.apply</a></span><span class='op'>)</span>
</pre><p></div></p>
<p>code such as:<div class="r"></p><pre><span class='va'>x</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>a <span class='op'>=</span> <span class='fl'>1</span><span class='op'>:</span><span class='fl'>10</span>, beta <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/Log.html'>exp</a></span><span class='op'>(</span><span class='op'>-</span><span class='fl'>3</span><span class='op'>:</span><span class='fl'>3</span><span class='op'>)</span>, logic <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='cn'>TRUE</span>,<span class='cn'>FALSE</span>,<span class='cn'>FALSE</span>,<span class='cn'>TRUE</span><span class='op'>)</span><span class='op'>)</span>
<span class='va'>y</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/lapply.html'>lapply</a></span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>quantile</span>, probs <span class='op'>=</span> <span class='fl'>1</span><span class='op'>:</span><span class='fl'>3</span><span class='op'>/</span><span class='fl'>4</span><span class='op'>)</span>
</pre><p></div></p>
<p>can be updated to:<div class="r"></p><pre><span class='va'>y</span> <span class='op'>&lt;-</span> <span class='fu'><a href='future_lapply.html'>future_lapply</a></span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>quantile</span>, probs <span class='op'>=</span> <span class='fl'>1</span><span class='op'>:</span><span class='fl'>3</span><span class='op'>/</span><span class='fl'>4</span><span class='op'>)</span>
</pre><p></div></p>
<p>The default settings in the <span class="pkg">future</span> framework is to process code
<em>sequentially</em>.  To run the above in parallel on the local machine
(on any operating system), use:<div class="r"></p><pre><span class='fu'>plan</span><span class='op'>(</span><span class='va'>multisession</span><span class='op'>)</span>
</pre><p></div></p>
<p>first.  That's it!</p>
<p>To go back to sequential processing, use <code>plan(sequential)</code>.
If you have access to multiple machines on your local network, use:<div class="r"></p><pre><span class='fu'>plan</span><span class='op'>(</span><span class='va'>cluster</span>, workers <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"n1"</span>, <span class='st'>"n2"</span>, <span class='st'>"n2"</span>, <span class='st'>"n3"</span><span class='op'>)</span><span class='op'>)</span>
</pre><p></div></p>
<p>This will set up four workers, one on <code>n1</code> and <code>n3</code>, and two on <code>n2</code>.
If you have SSH access to some remote machines, use:<div class="r"></p><pre>plan(cluster, workers = c("m1.myserver.org", "m2.myserver.org))
</pre><p></div></p>
<p>See the <span class="pkg">future</span> package and <code><a href='https://rdrr.io/pkg/future/man/plan.html'>future::plan()</a></code> for more examples.</p>
<p>The <span class="pkg">future.batchtools</span> package provides support for high-performance
compute (HPC) cluster schedulers such as SGE, Slurm, and TORQUE / PBS.
For example,</p><ul>
<li><p><code>plan(batchtools_slurm)</code>:
Process via a Slurm scheduler job queue.</p></li>
<li><p><code>plan(batchtools_torque)</code>:
Process via a TORQUE / PBS scheduler job queue.</p></li>
</ul>

<p>This builds on top of the queuing framework that the <span class="pkg">batchtools</span>
package provides. For more details on backend configuration, please see
the <span class="pkg">future.batchtools</span> and <span class="pkg">batchtools</span> packages.</p>
<p>These are just a few examples of parallel/distributed backend for the
future ecosystem.  For more alternatives, see the 'Reverse dependencies'
section on the
<a href='https://cran.r-project.org/package=future'>future CRAN package page</a>.</p>
    <h2 class="hasAnchor" id="author"><a class="anchor" href="#author"></a>Author</h2>

    <p>Henrik Bengtsson, except for the implementations of <code><a href='future_apply.html'>future_apply()</a></code>,
<code><a href='future_mapply.html'>future_Map()</a></code>, <code><a href='future_lapply.html'>future_replicate()</a></code>, <code><a href='future_lapply.html'>future_sapply()</a></code>, and
<code><a href='future_lapply.html'>future_tapply()</a></code>, which are adopted from the source code of the
corresponding base <span style="R">R</span> functions, which are licensed under GPL (&gt;= 2)
with 'The R Core Team' as the copyright holder.
Because of these dependencies, the license of this package is GPL (&gt;= 2).</p>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p><p>Developed by Henrik Bengtsson.</p></p>
</div>

<div class="pkgdown">
  <p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 1.6.1.9001.</p> and <a href="https://github.com/HenrikBengtsson/pkgdown.extras/">pkgdown.extras</a> 0.0.0.9000.</p>
</div>

      </footer>
   </div>

  


  

  </body>
</html>


